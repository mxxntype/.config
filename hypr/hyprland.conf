# --[[---------------------------------------------]]-- #
# --     __                     __                __ -- #
# --    / /_  __  ______  _____/ /___ _____  ____/ / -- #
# --   / __ \/ / / / __ \/ ___/ / __ `/ __ \/ __  /  -- #
# --  / / / / /_/ / /_/ / /  / / /_/ / / / / /_/ /   -- #
# -- /_/ /_/\__, / .___/_/  /_/\__,_/_/ /_/\__,_/    -- #
# --       /____/_/                                  -- #
# --[[---------------------------------------------]]-- #


# DISPLAY
monitor = ,preferred,auto,1
workspace = DP-1,1


# GENERAL
general {
    main_mod = SUPER

	  layout = master
    gaps_in = 8
    gaps_out = 16
    border_size = 4

    col.active_border = 0xffcba6f7
    col.inactive_border = 0xff313244

    apply_sens_to_raw = 1
    damage_tracking = full
    cursor_inactive_timeout = 10
    no_cursor_warps = true
}


misc {
  disable_hyprland_logo = true
  disable_splash_rendering = true
  no_vfr = true
}


# AUTOSTART
# -- themes
exec-once = gsettings set org.gnome.desktop.interface gtk-theme 'Catppuccin-Mocha-Pink'
exec-once = gsettings set org.gnome.desktop.interface icon-theme 'ePapirus-Dark'
exec-once = gsettings set org.gnome.desktop.interface cursor-theme '"Sunity Cursors"'
exec-once = gsettings set org.gnome.desktop.interface font-name 'JetBrainsMono Nerd Font'

# services & daemons
exec-once = wlsunset -t 7000 -T 8000 -g 0.75 && brillo -I
exec-once = swaybg -i ~/.config/wallpapers/outerspace.png
exec-once = waybar

exec-once = wireplumber
exec-once = pipewire
exec-once = pipewire-pulse

exec-once = swayidle -w timeout 600 ~/.local/sh/lock.sh

# -- apps
exec-once = kotatogram-desktop


# INPUT
input {
    follow_mouse = 1
    sensitivity = -0.8

    touchpad {
        natural_scroll = no
    }

    kb_layout = us,ru
    kb_options = grp:win_space_toggle
}

device:Cooler Master Technology Inc. Gaming MECH KB {
	repeat_rate = 50
	repeat_delay = 250
}
device:AT Translated Set 2 keyboard {
	repeat_rate = 50
  repeat_delay = 250
}
device:ELAN1010:00 04F3:3012 Touchpad {
  sensitivity = -0.4
}


# VISUALS
decoration {
    rounding = 8

    blur = 1
    blur_size = 5
    blur_passes = 5
    blur_new_optimizations = 1

    drop_shadow = true
    shadow_range = 20
    shadow_render_power = 2
    col.shadow = 0xffcba6f7
    col.shadow_inactive = 0xff313244
}

animations {
    enabled = 1
    animation = windows,1,4,default,slide
    animation = border,1,4,default
    animation = fade,1,4,default
    animation = workspaces,1,4,default,slidevert
}


# LAYOUT
master {
	special_scale_factor = 0.8
	new_is_master = false
	new_on_top = false
	no_gaps_when_only = false
}


# BINDS
# -- kill window | exit hyprland | lock screen
bind = SUPERSHIFT,Q,killactive,
bind = SUPERSHIFT,E,exec,brillo -O; hyprctl dispatch exit yes
bind = SUPERSHIFT,L,exec,~/.local/sh/lock.sh

# -- move & resize floating windows with mouse
bindm=SUPER,mouse:272,movewindow
bindm=SUPER,mouse:273,resizewindow

# -- screenshot
bind = ,Print,exec,grim - | wl-copy   # to clipboard
bind = CTRL,Print,exec,grim           # to file

# -- restart waybar
bind = SUPERSHIFT,R,exec,killall -9 waybar; waybar

# -- shift focus
bind = SUPER,J,layoutmsg,cyclenext
bind = SUPER,K,layoutmsg,cycleprev

# -- move windows within layout
bind = SUPERSHIFT,J,layoutmsg,swapnext
bind = SUPERSHIFT,K,layoutmsg,swapprev

# -- float | fullscreen
bind = SUPER,V,togglefloating,
bind = SUPER,F,fullscreen,

# -- general apps
bind = SUPER,RETURN,exec,alacritty
bind = SUPER,E,exec,alacritty -e ranger
bind = SUPER,P,exec,alacritty -e htop
bind = SUPER,M,exec,alacritty -e alsamixer
bind = SUPER,D,exec,wofi

# -- workspace-assigned apps
bind = CTRLSHIFT,1,exec,hyprctl dispatch workspace 1 && alacritty
bind = CTRLSHIFT,2,exec,gimp
bind = CTRLSHIFT,3,exec,librewolf
bind = CTRLSHIFT,4,exec,kotatogram-desktop
bind = CTRLSHIFT,5,exec,libreoffice
bind = CTRLSHIFT,6,exec,virt-manager
bind = CTRLSHIFT,7,exec,prismlauncher
bind = CTRLSHIFT,8,exec,keepassxc
bind = CTRLSHIFT,9,exec,freetube
bind = CTRLSHIFT,O,exec,hyprctl dispatch workspace 9 && alacritty -e cmus # couldn't figure out a windowrule

# -- window rules
windowrule = workspace 2,Gimp
windowrule = workspace 3,LibreWolf
windowrule = workspace 4,title:Kotatogram
windowrule = workspace 4,thunderbird
windowrule = workspace 4,WebCord
windowrule = workspace 4,Revolt
windowrule = workspace 4,jami-qt
windowrule = workspace 5,title:LibreOffice
windowrule = workspace 6,virt-manager
windowrule = workspace 7,org.prismlauncher.PrismLauncher
windowrule = workspace 8,org.keepassxc.KeePassXC
windowrule = workspace 9,FreeTube

# -- switch to ws
bind = SUPER,1,workspace,1
bind = SUPER,2,workspace,2
bind = SUPER,3,workspace,3
bind = SUPER,4,workspace,4
bind = SUPER,5,workspace,5
bind = SUPER,6,workspace,6
bind = SUPER,7,workspace,7
bind = SUPER,8,workspace,8
bind = SUPER,9,workspace,9
bind = SUPER,0,workspace,10

# -- move focused window to ws
bind = SUPERSHIFT,1,movetoworkspace,1
bind = SUPERSHIFT,2,movetoworkspace,2
bind = SUPERSHIFT,3,movetoworkspace,3
bind = SUPERSHIFT,4,movetoworkspace,4
bind = SUPERSHIFT,5,movetoworkspace,5
bind = SUPERSHIFT,6,movetoworkspace,6
bind = SUPERSHIFT,7,movetoworkspace,7
bind = SUPERSHIFT,8,movetoworkspace,8
bind = SUPERSHIFT,9,movetoworkspace,9
bind = SUPERSHIFT,0,movetoworkspace,10

# -- volume
bind = SUPERSHIFT,M,exec,pactl set-sink-mute 0 toggle
bind = ,XF86AudioRaiseVolume,exec,pactl set-sink-mute 0 off&&amixer set Master 5+
bind = ,XF86AudioLowerVolume,exec,pactl set-sink-mute 0 off&&amixer set Master 5-

# -- brightness
bind = ,XF86MonBrightnessUp,exec,brillo -A 10 -u 500
bind = ,XF86MonBrightnessDown,exec,brillo -U 10 -u 500
