#    __                 __             __
#   / /  __ _____  ____/ /__ ____  ___/ /
#  / _ \/ // / _ \/ __/ / _ `/ _ \/ _  /
# /_//_/\_, / .__/_/ /_/\_,_/_//_/\_,_/
#      /___/_/

# DISPLAY
monitor = ,preferred,auto,1
workspace = DP-1,1



# GENERAL
general {
    main_mod = SUPER

	  layout = master
    gaps_in = 6
    gaps_out = 12
    border_size = 6

    col.active_border = 0xfff5c2e7
    col.inactive_border = 0xff313244

    apply_sens_to_raw = 1         # whether to apply the sensitivity to raw input
    damage_tracking = full        # leave it on full unless you hate your GPU
    cursor_inactive_timeout = 10  # hides cursor after N seconds
    no_cursor_warps = true        # should (?) disable cursor jumping
}



misc {
  disable_hyprland_logo = true
  disable_splash_rendering = true
  no_vfr = true
}



# AUTOSTART
exec-once = wbg ~/media/images/wallpapers/catppuccin/artix-black-4k.png
exec-once = waybar

exec-once = wireplumber
exec-once = pipewire
exec-once = pipewire-pulse

exec-once = swayidle -w timeout 600 swaylock

exec-once = kotatogram-desktop



# INPUT
input {
    follow_mouse = 1
    sensitivity = -0.8

    touchpad {
        natural_scroll = no
    }
}

device:Cooler Master Technology Inc. Gaming MECH KB {
	repeat_rate = 50
	repeat_delay = 250
}



# VISUALS
decoration {
    rounding = 0
    blur = 1                    # 0/1?
    blur_size = 5               # minimum 1
    blur_passes = 5             # minimum 1
    blur_new_optimizations = 1  # leave it on lol
}

animations {
    enabled = 1
    animation = windows,1,7,default
    animation = border,1,10,default
    animation = fade,1,10,default
    animation = workspaces,1,6,default
}



# LAYOUT
master {
	special_scale_factor = 0.8
	new_is_master = false
	new_on_top = false
	no_gaps_when_only = false
}



# BINDS
# -- kill window | exit hyprland
bind = SUPERSHIFT,Q,killactive,
bind = SUPERSHIFT,E,exit,
bind = SUPERSHIFT,L,exec,swaylock

# -- screenshot
bind = ,Print,exec,grim - | wl-copy   # to clipboard
bind = CTRL,Print,exec,grim           # to file

# -- restart waybar
bind = SUPERSHIFT,R,exec,killall -9 waybar; waybar

# -- shift focus
bind = SUPER,J,layoutmsg,cyclenext
bind = SUPER,K,layoutmsg,cycleprev

# -- move windows within layout
bind = SUPERSHIFT,J,layoutmsg,swapnext
bind = SUPERSHIFT,K,layoutmsg,swapprev

# -- float | fullscreen
bind = SUPER,V,togglefloating,
bind = SUPER,F,fullscreen,

# -- general apps
bind = SUPER,RETURN,exec,alacritty
bind = SUPER,E,exec,GDK_BACKEND=x11 thunar
bind = SUPER,D,exec,bemenu-run -W 0.45 --fn 'JetBrains Mono Nerd Font 12' -H 28 -p 'î¯€'

# -- workspace-assigned apps
bind = CTRLSHIFT,2,exec,gimp
bind = CTRLSHIFT,3,exec,GDK_BACKEND=x11 librewolf
bind = CTRLSHIFT,4,exec,kotatogram-desktop
bind = CTRLSHIFT,5,exec,GDK_BACKEND=x11 libreoffice
bind = CTRLSHIFT,8,exec,keepassxc
bind = CTRLSHIFT,9,exec,freetube
bind = CTRLSHIFT,0,exec,hyprctl dispatch workspace 9 && alacritty -e cmus # couldn't figure out a windowrule
# -- window rules
windowrule = workspace 2,title:GNU Image Manipulation Program
windowrule = workspace 3,title:LibreWolf
windowrule = workspace 4,title:Kotatogram
windowrule = workspace 5,title:Libreoffice
windowrule = workspace 8,title:KeePassXC
windowrule = workspace 9,title:FreeTube

# -- switch to ws
bind = SUPER,1,workspace,1
bind = SUPER,2,workspace,2
bind = SUPER,3,workspace,3
bind = SUPER,4,workspace,4
bind = SUPER,5,workspace,5
bind = SUPER,6,workspace,6
bind = SUPER,7,workspace,7
bind = SUPER,8,workspace,8
bind = SUPER,9,workspace,9
bind = SUPER,0,workspace,10

# -- move focused window to ws
bind = SUPERSHIFT,1,movetoworkspace,1
bind = SUPERSHIFT,2,movetoworkspace,2
bind = SUPERSHIFT,3,movetoworkspace,3
bind = SUPERSHIFT,4,movetoworkspace,4
bind = SUPERSHIFT,5,movetoworkspace,5
bind = SUPERSHIFT,6,movetoworkspace,6
bind = SUPERSHIFT,7,movetoworkspace,7
bind = SUPERSHIFT,8,movetoworkspace,8
bind = SUPERSHIFT,9,movetoworkspace,9
bind = SUPERSHIFT,0,movetoworkspace,10

# -- kb layout switching (janky asf)
bind = SUPER,A,exec,hyprctl keyword device:cooler-master-technology-inc.-gaming-mech-kb:kb_layout ru
bind = SUPER,Space,exec,hyprctl keyword device:cooler-master-technology-inc.-gaming-mech-kb:kb_layout us

# -- no fucking clue
bind = SUPER,mouse_down,workspace,e+1
bind = SUPER,mouse_up,workspace,e-1
